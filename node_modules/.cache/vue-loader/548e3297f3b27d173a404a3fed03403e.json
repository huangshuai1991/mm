{"remainingRequest":"F:\\emanager\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\emanager\\src\\components\\InsTable\\column.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\emanager\\src\\components\\InsTable\\column.vue","mtime":1604888126379},{"path":"F:\\emanager\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\emanager\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\emanager\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\emanager\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgSW5zUmVuZGVyIGZyb20gIi4vcmVuZGVyIjsNCmltcG9ydCBDZWxsRm9yY2VkIGZyb20gIi4vZm9yY2VkIjsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIkluc0NvbHVtbiIsDQogIHByb3BzOiB7DQogICAgY29sdW1uOiB7DQogICAgICB0eXBlOiBPYmplY3QsDQogICAgICBkZWZhdWx0OiAoKSA9PiB7fSwNCiAgICB9LA0KICB9LA0KICBjb21wb25lbnRzOiB7DQogICAgSW5zUmVuZGVyLA0KICB9LA0KICB3YXRjaDogew0KICAgIGNvbHVtbjogew0KICAgICAgaGFuZGxlcjogInJlbmRlckNvbHVtbiIsDQogICAgICBpbW1lZGlhdGU6IHRydWUsDQogICAgfSwNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIHJlbmRlckNvbHVtbigpIHsNCiAgICAgIGNvbnN0IHsgY29sdW1uIH0gPSB0aGlzOw0KICAgICAgLy8g5aSa6YCJ77yac2VsZWN0aW9uIC8g57Si5byV77yaaW5kZXggLyDlsZXlvIDnmoTmjInpkq7vvJpleHBhbmQNCiAgICAgIGlmIChjb2x1bW4udHlwZSkgew0KICAgICAgICBjb2x1bW4ucmVuZGVySGVhZGVyID0gQ2VsbEZvcmNlZFtjb2x1bW4udHlwZV0ucmVuZGVySGVhZGVyOw0KICAgICAgICBjb2x1bW4ucmVuZGVyID0gY29sdW1uLnJlbmRlciB8fCBDZWxsRm9yY2VkW2NvbHVtbi50eXBlXS5yZW5kZXJDZWxsOw0KICAgICAgfQ0KICAgICAgLy8g5qC85byP5YyW5YaF5a65DQogICAgICBpZiAoY29sdW1uLmZvcm1hdHRlcikgew0KICAgICAgICBjb2x1bW4ucmVuZGVyID0gKGgsIHNjb3BlKSA9PiB7DQogICAgICAgICAgcmV0dXJuICgNCiAgICAgICAgICAgIDxzcGFuPg0KICAgICAgICAgICAgICB7c2NvcGUuY29sdW1uLmZvcm1hdHRlcigNCiAgICAgICAgICAgICAgICBzY29wZS5yb3csDQogICAgICAgICAgICAgICAgc2NvcGUuY29sdW1uLA0KICAgICAgICAgICAgICAgIHNjb3BlLnJvd1tzY29wZS5jb2x1bW4ucHJvcGVydHldLA0KICAgICAgICAgICAgICAgIHNjb3BlLiRpbmRleA0KICAgICAgICAgICAgICApfQ0KICAgICAgICAgICAgPC9zcGFuPg0KICAgICAgICAgICk7DQogICAgICAgIH07DQogICAgICB9DQogICAgICAvLyDmuLLmn5PmiJB0ZXh0DQogICAgICBpZiAoIWNvbHVtbi5yZW5kZXIpIHsNCiAgICAgICAgY29sdW1uLnJlbmRlciA9IChoLCBzY29wZSkgPT4gew0KICAgICAgICAgIHJldHVybiA8c3Bhbj57c2NvcGUucm93W3Njb3BlLmNvbHVtbi5wcm9wZXJ0eV19PC9zcGFuPjsNCiAgICAgICAgfTsNCiAgICAgIH0NCiAgICAgIHJldHVybiBjb2x1bW47DQogICAgfSwNCiAgICBnZXRDb2xCaW5kKGNvbCkgew0KICAgICAgY29uc3QgYmluZCA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuJGF0dHJzLCBjb2wpOw0KICAgICAgZGVsZXRlIGJpbmQuY29tcG9uZW50Ow0KICAgICAgZGVsZXRlIGJpbmQubGlzdGVuZXJzOw0KICAgICAgZGVsZXRlIGJpbmQucHJvcHNIYW5kbGVyOw0KICAgICAgcmV0dXJuIGJpbmQ7DQogICAgfSwNCiAgICBnZXRDcHRCaW5kKHsgcm93LCBjb2x1bW4gfSwgY29sKSB7DQogICAgICBjb25zdCBwcm9wcyA9IHsgcm93LCBjb2wsIGNvbHVtbiB9Ow0KICAgICAgY29uc3QgaGFuZGxlciA9IGNvbC5wcm9wc0hhbmRsZXI7DQogICAgICByZXR1cm4gKGhhbmRsZXIgJiYgaGFuZGxlcihwcm9wcykpIHx8IHByb3BzOw0KICAgIH0sDQogIH0sDQp9Ow0K"},{"version":3,"sources":["column.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"column.vue","sourceRoot":"src/components/InsTable","sourcesContent":["<template>\r\n  <el-table-column v-bind=\"column\"\r\n                   v-on=\"$listeners\">\r\n    <!--表格中列的头部 是否有单选多选或者展开等特殊需求 -->\r\n    <template slot=\"header\"\r\n              slot-scope=\"scope\">\r\n      <ins-render v-if=\"column.renderHeader\"\r\n                  :scope=\"scope\"\r\n                  :render=\"column.renderHeader\" />\r\n      <span v-else>{{ scope.column.label }}</span>\r\n    </template>\r\n\r\n    <template slot-scope=\"scope\">\r\n      <component v-if=\"column.component\"\r\n                 v-bind=\"getCptBind(scope, column)\"\r\n                 v-on=\"column.listeners\"\r\n                 :is=\"column.component\" />\r\n\r\n      <!-- 嵌套表格 -->\r\n      <template v-else-if=\"column.children\">\r\n        <ins-column v-for=\"col in column.children\"\r\n                    :key=\"col.prop\"\r\n                    :column=\"col\" />\r\n      </template>\r\n\r\n      <ins-render v-else\r\n                  :scope=\"scope\"\r\n                  :render=\"column.render\" />\r\n    </template>\r\n  </el-table-column>\r\n</template>\r\n\r\n<script>\r\nimport InsRender from \"./render\";\r\nimport CellForced from \"./forced\";\r\nexport default {\r\n  name: \"InsColumn\",\r\n  props: {\r\n    column: {\r\n      type: Object,\r\n      default: () => {},\r\n    },\r\n  },\r\n  components: {\r\n    InsRender,\r\n  },\r\n  watch: {\r\n    column: {\r\n      handler: \"renderColumn\",\r\n      immediate: true,\r\n    },\r\n  },\r\n  methods: {\r\n    renderColumn() {\r\n      const { column } = this;\r\n      // 多选：selection / 索引：index / 展开的按钮：expand\r\n      if (column.type) {\r\n        column.renderHeader = CellForced[column.type].renderHeader;\r\n        column.render = column.render || CellForced[column.type].renderCell;\r\n      }\r\n      // 格式化内容\r\n      if (column.formatter) {\r\n        column.render = (h, scope) => {\r\n          return (\r\n            <span>\r\n              {scope.column.formatter(\r\n                scope.row,\r\n                scope.column,\r\n                scope.row[scope.column.property],\r\n                scope.$index\r\n              )}\r\n            </span>\r\n          );\r\n        };\r\n      }\r\n      // 渲染成text\r\n      if (!column.render) {\r\n        column.render = (h, scope) => {\r\n          return <span>{scope.row[scope.column.property]}</span>;\r\n        };\r\n      }\r\n      return column;\r\n    },\r\n    getColBind(col) {\r\n      const bind = Object.assign({}, this.$attrs, col);\r\n      delete bind.component;\r\n      delete bind.listeners;\r\n      delete bind.propsHandler;\r\n      return bind;\r\n    },\r\n    getCptBind({ row, column }, col) {\r\n      const props = { row, col, column };\r\n      const handler = col.propsHandler;\r\n      return (handler && handler(props)) || props;\r\n    },\r\n  },\r\n};\r\n</script>"]}]}