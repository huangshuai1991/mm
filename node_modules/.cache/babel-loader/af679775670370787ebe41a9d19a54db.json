{"remainingRequest":"F:\\emanager\\node_modules\\babel-loader\\lib\\index.js!F:\\emanager\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\emanager\\src\\store\\modules\\notifications.js","dependencies":[{"path":"F:\\emanager\\src\\store\\modules\\notifications.js","mtime":1604888126747},{"path":"F:\\emanager\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\emanager\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\emanager\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFJhYmJpdE1RIGZyb20gJy4uLy4uL2FwaS93cy1hcGknOwp2YXIgbm90aWZpY2F0aW9uID0gewogIHN0YXRlOiB7CiAgICBtZXNzYWdlTGlzdDogW10sCiAgICB0b3RhbDogMCwKICAgIHVucmVhZE51bTogMAogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBTRVRfTUVTU0FHRTogZnVuY3Rpb24gU0VUX01FU1NBR0Uoc3RhdGUsIG1lc3NhZ2VMaXN0KSB7CiAgICAgIHN0YXRlLm1lc3NhZ2VMaXN0ID0gbWVzc2FnZUxpc3Q7CiAgICB9LAogICAgU0VUX1RvdGFsOiBmdW5jdGlvbiBTRVRfVG90YWwoc3RhdGUsIHRvdGFsTnVtKSB7CiAgICAgIHN0YXRlLnRvdGFsID0gdG90YWxOdW07CiAgICB9LAogICAgU0VUX1VOUkVBRE5VTTogZnVuY3Rpb24gU0VUX1VOUkVBRE5VTShzdGF0ZSwgdW5yZWFkTnVtKSB7CiAgICAgIHN0YXRlLnVucmVhZE51bSA9IHVucmVhZE51bTsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIC8vIOiOt+WPluWFqOmDqOa2iOaBrwogICAgR2V0TWVzc2FnZTogZnVuY3Rpb24gR2V0TWVzc2FnZShfcmVmKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgUmFiYml0TVEuc3ViTmV3TXNnKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YTsKCiAgICAgICAgaWYgKGRhdGEubGVuZ3RoID4gMCkgewogICAgICAgICAgY29tbWl0KCdTRVRfTUVTU0FHRScsIGRhdGEpOwogICAgICAgICAgY29tbWl0KCdTRVRfVG90YWwnLCByZXNwb25zZS50b3RhbCk7CiAgICAgICAgICBjb21taXQoJ1NFVF9VTlJFQUROVU0nLCByZXNwb25zZS51bnJlYWROdW0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb21taXQoJ1NFVF9NRVNTQUdFJywgW10pOwogICAgICAgICAgY29tbWl0KCdTRVRfVG90YWwnLCAwKTsKICAgICAgICAgIGNvbW1pdCgnU0VUX1VOUkVBRE5VTScsIDApOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9OwpleHBvcnQgZGVmYXVsdCBub3RpZmljYXRpb247"},{"version":3,"sources":["F:/emanager/src/store/modules/notifications.js"],"names":["RabbitMQ","notification","state","messageList","total","unreadNum","mutations","SET_MESSAGE","SET_Total","totalNum","SET_UNREADNUM","actions","GetMessage","commit","subNewMsg","response","data","length"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,kBAArB;AAEA,IAAMC,YAAY,GAAG;AACnBC,EAAAA,KAAK,EAAE;AACLC,IAAAA,WAAW,EAAE,EADR;AAELC,IAAAA,KAAK,EAAE,CAFF;AAGLC,IAAAA,SAAS,EAAE;AAHN,GADY;AAMnBC,EAAAA,SAAS,EAAE;AACTC,IAAAA,WAAW,EAAE,qBAACL,KAAD,EAAQC,WAAR,EAAwB;AACnCD,MAAAA,KAAK,CAACC,WAAN,GAAoBA,WAApB;AACD,KAHQ;AAITK,IAAAA,SAAS,EAAE,mBAACN,KAAD,EAAQO,QAAR,EAAqB;AAC9BP,MAAAA,KAAK,CAACE,KAAN,GAAcK,QAAd;AACD,KANQ;AAOTC,IAAAA,aAAa,EAAE,uBAACR,KAAD,EAAQG,SAAR,EAAsB;AACnCH,MAAAA,KAAK,CAACG,SAAN,GAAkBA,SAAlB;AACD;AATQ,GANQ;AAiBnBM,EAAAA,OAAO,EAAE;AAEP;AACAC,IAAAA,UAHO,4BAGiB;AAAA,UAAVC,MAAU,QAAVA,MAAU;AACtBb,MAAAA,QAAQ,CAACc,SAAT,CAAmB,UAACC,QAAD,EAAc;AAC/B,YAAMC,IAAI,GAAGD,QAAQ,CAACC,IAAtB;;AACA,YAAIA,IAAI,CAACC,MAAL,GAAc,CAAlB,EAAqB;AACnBJ,UAAAA,MAAM,CAAC,aAAD,EAAgBG,IAAhB,CAAN;AACAH,UAAAA,MAAM,CAAC,WAAD,EAAcE,QAAQ,CAACX,KAAvB,CAAN;AACAS,UAAAA,MAAM,CAAC,eAAD,EAAkBE,QAAQ,CAACV,SAA3B,CAAN;AACD,SAJD,MAIO;AACLQ,UAAAA,MAAM,CAAC,aAAD,EAAgB,EAAhB,CAAN;AACAA,UAAAA,MAAM,CAAC,WAAD,EAAc,CAAd,CAAN;AACAA,UAAAA,MAAM,CAAC,eAAD,EAAkB,CAAlB,CAAN;AACD;AACF,OAXD;AAYD;AAhBM;AAjBU,CAArB;AAsCA,eAAeZ,YAAf","sourcesContent":["import RabbitMQ from '../../api/ws-api';\r\n\r\nconst notification = {\r\n  state: {\r\n    messageList: [],\r\n    total: 0,\r\n    unreadNum: 0,\r\n  },\r\n  mutations: {\r\n    SET_MESSAGE: (state, messageList) => {\r\n      state.messageList = messageList;\r\n    },\r\n    SET_Total: (state, totalNum) => {\r\n      state.total = totalNum;\r\n    },\r\n    SET_UNREADNUM: (state, unreadNum) => {\r\n      state.unreadNum = unreadNum;\r\n    }\r\n  },\r\n  actions: {\r\n\r\n    // 获取全部消息\r\n    GetMessage ({ commit }) {\r\n      RabbitMQ.subNewMsg((response) => {\r\n        const data = response.data;\r\n        if (data.length > 0) {\r\n          commit('SET_MESSAGE', data);\r\n          commit('SET_Total', response.total)\r\n          commit('SET_UNREADNUM', response.unreadNum)\r\n        } else {\r\n          commit('SET_MESSAGE', []);\r\n          commit('SET_Total', 0)\r\n          commit('SET_UNREADNUM', 0)\r\n        }\r\n      })\r\n    }\r\n\r\n  }\r\n}\r\n\r\nexport default notification;"]}]}