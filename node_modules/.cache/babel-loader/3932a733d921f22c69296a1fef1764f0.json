{"remainingRequest":"F:\\emanager\\node_modules\\babel-loader\\lib\\index.js!F:\\emanager\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\emanager\\src\\utils\\i18n.js","dependencies":[{"path":"F:\\emanager\\src\\utils\\i18n.js","mtime":1604888126976},{"path":"F:\\emanager\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\emanager\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\emanager\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvciI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZUkxOG4gZnJvbSAndnVlLWkxOG4nOwppbXBvcnQgQ29va2llcyBmcm9tICdqcy1jb29raWUnOwpWdWUudXNlKFZ1ZUkxOG4pOwoKZnVuY3Rpb24gbG9hZExvY2FsZU1lc3NhZ2VzKCkgewogIHZhciBsb2NhbGVzID0gcmVxdWlyZS5jb250ZXh0KCcuLi9sb2NhbGVzJywgdHJ1ZSwgL1tBLVphLXowLTktXyxcc10rXC5qc29uJC9pKTsKCiAgdmFyIG1lc3NhZ2VzID0ge307CiAgbG9jYWxlcy5rZXlzKCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICB2YXIgbWF0Y2hlZCA9IGtleS5tYXRjaCgvKFtBLVphLXowLTktX10rKVwuL2kpOwoKICAgIGlmIChtYXRjaGVkICYmIG1hdGNoZWQubGVuZ3RoID4gMSkgewogICAgICB2YXIgbG9jYWxlID0gbWF0Y2hlZFsxXTsKICAgICAgbWVzc2FnZXNbbG9jYWxlXSA9IGxvY2FsZXMoa2V5KTsKICAgIH0KICB9KTsKICByZXR1cm4gbWVzc2FnZXM7Cn0gLy8gdHJhbnNsYXRlIHJvdXRlci5tZXRhLnRpdGxlLCBiZSB1c2VkIGluIGJyZWFkY3J1bWIgc2lkZWJhciB0YWdzdmlldwoKCmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVRpdGxlKHRpdGxlKSB7CiAgdmFyIGhhc0tleSA9IHRoaXMuJHRlKCdyb3V0ZS4nICsgdGl0bGUpOwogIHZhciB0cmFuc2xhdGVkVGl0bGUgPSB0aGlzLiR0KCdyb3V0ZS4nICsgdGl0bGUpOyAvLyAkdCA6dGhpcyBtZXRob2QgZnJvbSB2dWUtaTE4biwgaW5qZWN0IGluIEAvbGFuZy9pbmRleC5qcwoKICBpZiAoaGFzS2V5KSB7CiAgICByZXR1cm4gdHJhbnNsYXRlZFRpdGxlOwogIH0KCiAgcmV0dXJuIHRpdGxlOwp9CmV4cG9ydCBkZWZhdWx0IG5ldyBWdWVJMThuKHsKICBsb2NhbGU6IENvb2tpZXMuZ2V0KCdsYW5ndWFnZScpIHx8IHByb2Nlc3MuZW52LlZVRV9BUFBfSTE4Tl9MT0NBTEUgfHwgJ3poJywKICBmYWxsYmFja0xvY2FsZTogcHJvY2Vzcy5lbnYuVlVFX0FQUF9JMThOX0ZBTExCQUNLX0xPQ0FMRSB8fCAnZW4nLAogIG1lc3NhZ2VzOiBsb2FkTG9jYWxlTWVzc2FnZXMoKQp9KTs="},{"version":3,"sources":["F:/emanager/src/utils/i18n.js"],"names":["Vue","VueI18n","Cookies","use","loadLocaleMessages","locales","require","context","messages","keys","forEach","key","matched","match","length","locale","generateTitle","title","hasKey","$te","translatedTitle","$t","get","process","env","VUE_APP_I18N_LOCALE","fallbackLocale","VUE_APP_I18N_FALLBACK_LOCALE"],"mappings":";;;;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,OAAP,MAAoB,UAApB;AACA,OAAOC,OAAP,MAAoB,WAApB;AAEAF,GAAG,CAACG,GAAJ,CAAQF,OAAR;;AAEA,SAASG,kBAAT,GAA+B;AAC7B,MAAMC,OAAO,GAAGC,OAAO,CAACC,OAAR,CAAgB,YAAhB,EAA8B,IAA9B,EAAoC,2BAApC,CAAhB;;AACA,MAAMC,QAAQ,GAAG,EAAjB;AACAH,EAAAA,OAAO,CAACI,IAAR,GAAeC,OAAf,CAAuB,UAAAC,GAAG,EAAI;AAC5B,QAAMC,OAAO,GAAGD,GAAG,CAACE,KAAJ,CAAU,qBAAV,CAAhB;;AACA,QAAID,OAAO,IAAIA,OAAO,CAACE,MAAR,GAAiB,CAAhC,EAAmC;AACjC,UAAMC,MAAM,GAAGH,OAAO,CAAC,CAAD,CAAtB;AACAJ,MAAAA,QAAQ,CAACO,MAAD,CAAR,GAAmBV,OAAO,CAACM,GAAD,CAA1B;AACD;AACF,GAND;AAOA,SAAOH,QAAP;AACD,C,CAED;;;AACA,OAAO,SAASQ,aAAT,CAAwBC,KAAxB,EAA+B;AACpC,MAAMC,MAAM,GAAG,KAAKC,GAAL,CAAS,WAAWF,KAApB,CAAf;AACA,MAAMG,eAAe,GAAG,KAAKC,EAAL,CAAQ,WAAWJ,KAAnB,CAAxB,CAFoC,CAEc;;AAClD,MAAIC,MAAJ,EAAY;AACV,WAAOE,eAAP;AACD;;AACD,SAAOH,KAAP;AACD;AAED,eAAe,IAAIhB,OAAJ,CAAY;AACzBc,EAAAA,MAAM,EAAEb,OAAO,CAACoB,GAAR,CAAY,UAAZ,KAA2BC,OAAO,CAACC,GAAR,CAAYC,mBAAvC,IAA8D,IAD7C;AAEzBC,EAAAA,cAAc,EAAEH,OAAO,CAACC,GAAR,CAAYG,4BAAZ,IAA4C,IAFnC;AAGzBnB,EAAAA,QAAQ,EAAEJ,kBAAkB;AAHH,CAAZ,CAAf","sourcesContent":["import Vue from 'vue'\r\nimport VueI18n from 'vue-i18n'\r\nimport Cookies from 'js-cookie'\r\n\r\nVue.use(VueI18n)\r\n\r\nfunction loadLocaleMessages () {\r\n  const locales = require.context('../locales', true, /[A-Za-z0-9-_,\\s]+\\.json$/i)\r\n  const messages = {}\r\n  locales.keys().forEach(key => {\r\n    const matched = key.match(/([A-Za-z0-9-_]+)\\./i)\r\n    if (matched && matched.length > 1) {\r\n      const locale = matched[1]\r\n      messages[locale] = locales(key)\r\n    }\r\n  })\r\n  return messages\r\n}\r\n\r\n// translate router.meta.title, be used in breadcrumb sidebar tagsview\r\nexport function generateTitle (title) {\r\n  const hasKey = this.$te('route.' + title)\r\n  const translatedTitle = this.$t('route.' + title) // $t :this method from vue-i18n, inject in @/lang/index.js\r\n  if (hasKey) {\r\n    return translatedTitle\r\n  }\r\n  return title\r\n}\r\n\r\nexport default new VueI18n({\r\n  locale: Cookies.get('language') || process.env.VUE_APP_I18N_LOCALE || 'zh',\r\n  fallbackLocale: process.env.VUE_APP_I18N_FALLBACK_LOCALE || 'en',\r\n  messages: loadLocaleMessages()\r\n})\r\n"]}]}