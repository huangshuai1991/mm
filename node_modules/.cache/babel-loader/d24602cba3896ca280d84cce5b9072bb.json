{"remainingRequest":"F:\\emanager\\node_modules\\babel-loader\\lib\\index.js!F:\\emanager\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\emanager\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\emanager\\src\\components\\InsTable\\column.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\emanager\\src\\components\\InsTable\\column.vue","mtime":1604888126379},{"path":"F:\\emanager\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\emanager\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\emanager\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\emanager\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEluc1JlbmRlciBmcm9tICIuL3JlbmRlciI7CmltcG9ydCBDZWxsRm9yY2VkIGZyb20gIi4vZm9yY2VkIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJJbnNDb2x1bW4iLAogIHByb3BzOiB7CiAgICBjb2x1bW46IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICAiZGVmYXVsdCI6IGZ1bmN0aW9uIF9kZWZhdWx0KCkge30KICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIEluc1JlbmRlcjogSW5zUmVuZGVyCiAgfSwKICB3YXRjaDogewogICAgY29sdW1uOiB7CiAgICAgIGhhbmRsZXI6ICJyZW5kZXJDb2x1bW4iLAogICAgICBpbW1lZGlhdGU6IHRydWUKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHJlbmRlckNvbHVtbjogZnVuY3Rpb24gcmVuZGVyQ29sdW1uKCkgewogICAgICB2YXIgaCA9IHRoaXMuJGNyZWF0ZUVsZW1lbnQ7CiAgICAgIHZhciBjb2x1bW4gPSB0aGlzLmNvbHVtbjsgLy8g5aSa6YCJ77yac2VsZWN0aW9uIC8g57Si5byV77yaaW5kZXggLyDlsZXlvIDnmoTmjInpkq7vvJpleHBhbmQKCiAgICAgIGlmIChjb2x1bW4udHlwZSkgewogICAgICAgIGNvbHVtbi5yZW5kZXJIZWFkZXIgPSBDZWxsRm9yY2VkW2NvbHVtbi50eXBlXS5yZW5kZXJIZWFkZXI7CiAgICAgICAgY29sdW1uLnJlbmRlciA9IGNvbHVtbi5yZW5kZXIgfHwgQ2VsbEZvcmNlZFtjb2x1bW4udHlwZV0ucmVuZGVyQ2VsbDsKICAgICAgfSAvLyDmoLzlvI/ljJblhoXlrrkKCgogICAgICBpZiAoY29sdW1uLmZvcm1hdHRlcikgewogICAgICAgIGNvbHVtbi5yZW5kZXIgPSBmdW5jdGlvbiAoaCwgc2NvcGUpIHsKICAgICAgICAgIHJldHVybiBoKCJzcGFuIiwgW3Njb3BlLmNvbHVtbi5mb3JtYXR0ZXIoc2NvcGUucm93LCBzY29wZS5jb2x1bW4sIHNjb3BlLnJvd1tzY29wZS5jb2x1bW4ucHJvcGVydHldLCBzY29wZS4kaW5kZXgpXSk7CiAgICAgICAgfTsKICAgICAgfSAvLyDmuLLmn5PmiJB0ZXh0CgoKICAgICAgaWYgKCFjb2x1bW4ucmVuZGVyKSB7CiAgICAgICAgY29sdW1uLnJlbmRlciA9IGZ1bmN0aW9uIChoLCBzY29wZSkgewogICAgICAgICAgcmV0dXJuIGgoInNwYW4iLCBbc2NvcGUucm93W3Njb3BlLmNvbHVtbi5wcm9wZXJ0eV1dKTsKICAgICAgICB9OwogICAgICB9CgogICAgICByZXR1cm4gY29sdW1uOwogICAgfSwKICAgIGdldENvbEJpbmQ6IGZ1bmN0aW9uIGdldENvbEJpbmQoY29sKSB7CiAgICAgIHZhciBiaW5kID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy4kYXR0cnMsIGNvbCk7CiAgICAgIGRlbGV0ZSBiaW5kLmNvbXBvbmVudDsKICAgICAgZGVsZXRlIGJpbmQubGlzdGVuZXJzOwogICAgICBkZWxldGUgYmluZC5wcm9wc0hhbmRsZXI7CiAgICAgIHJldHVybiBiaW5kOwogICAgfSwKICAgIGdldENwdEJpbmQ6IGZ1bmN0aW9uIGdldENwdEJpbmQoX3JlZiwgY29sKSB7CiAgICAgIHZhciByb3cgPSBfcmVmLnJvdywKICAgICAgICAgIGNvbHVtbiA9IF9yZWYuY29sdW1uOwogICAgICB2YXIgcHJvcHMgPSB7CiAgICAgICAgcm93OiByb3csCiAgICAgICAgY29sOiBjb2wsCiAgICAgICAgY29sdW1uOiBjb2x1bW4KICAgICAgfTsKICAgICAgdmFyIGhhbmRsZXIgPSBjb2wucHJvcHNIYW5kbGVyOwogICAgICByZXR1cm4gaGFuZGxlciAmJiBoYW5kbGVyKHByb3BzKSB8fCBwcm9wczsKICAgIH0KICB9Cn07"},{"version":3,"sources":["column.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA,OAAA,SAAA,MAAA,UAAA;AACA,OAAA,UAAA,MAAA,UAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,MAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,iBAAA,oBAAA,CAAA;AAFA;AADA,GAFA;AAQA,EAAA,UAAA,EAAA;AACA,IAAA,SAAA,EAAA;AADA,GARA;AAWA,EAAA,KAAA,EAAA;AACA,IAAA,MAAA,EAAA;AACA,MAAA,OAAA,EAAA,cADA;AAEA,MAAA,SAAA,EAAA;AAFA;AADA,GAXA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AAAA;AAAA,UACA,MADA,GACA,IADA,CACA,MADA,EAEA;;AACA,UAAA,MAAA,CAAA,IAAA,EAAA;AACA,QAAA,MAAA,CAAA,YAAA,GAAA,UAAA,CAAA,MAAA,CAAA,IAAA,CAAA,CAAA,YAAA;AACA,QAAA,MAAA,CAAA,MAAA,GAAA,MAAA,CAAA,MAAA,IAAA,UAAA,CAAA,MAAA,CAAA,IAAA,CAAA,CAAA,UAAA;AACA,OANA,CAOA;;;AACA,UAAA,MAAA,CAAA,SAAA,EAAA;AACA,QAAA,MAAA,CAAA,MAAA,GAAA,UAAA,CAAA,EAAA,KAAA,EAAA;AACA,4BAEA,KAAA,CAAA,MAAA,CAAA,SAAA,CACA,KAAA,CAAA,GADA,EAEA,KAAA,CAAA,MAFA,EAGA,KAAA,CAAA,GAAA,CAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CAHA,EAIA,KAAA,CAAA,MAJA,CAFA;AAUA,SAXA;AAYA,OArBA,CAsBA;;;AACA,UAAA,CAAA,MAAA,CAAA,MAAA,EAAA;AACA,QAAA,MAAA,CAAA,MAAA,GAAA,UAAA,CAAA,EAAA,KAAA,EAAA;AACA,4BAAA,KAAA,CAAA,GAAA,CAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA;AACA,SAFA;AAGA;;AACA,aAAA,MAAA;AACA,KA9BA;AA+BA,IAAA,UA/BA,sBA+BA,GA/BA,EA+BA;AACA,UAAA,IAAA,GAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,KAAA,MAAA,EAAA,GAAA,CAAA;AACA,aAAA,IAAA,CAAA,SAAA;AACA,aAAA,IAAA,CAAA,SAAA;AACA,aAAA,IAAA,CAAA,YAAA;AACA,aAAA,IAAA;AACA,KArCA;AAsCA,IAAA,UAtCA,4BAsCA,GAtCA,EAsCA;AAAA,UAAA,GAAA,QAAA,GAAA;AAAA,UAAA,MAAA,QAAA,MAAA;AACA,UAAA,KAAA,GAAA;AAAA,QAAA,GAAA,EAAA,GAAA;AAAA,QAAA,GAAA,EAAA,GAAA;AAAA,QAAA,MAAA,EAAA;AAAA,OAAA;AACA,UAAA,OAAA,GAAA,GAAA,CAAA,YAAA;AACA,aAAA,OAAA,IAAA,OAAA,CAAA,KAAA,CAAA,IAAA,KAAA;AACA;AA1CA;AAjBA,CAAA","sourcesContent":["<template>\r\n  <el-table-column v-bind=\"column\"\r\n                   v-on=\"$listeners\">\r\n    <!--表格中列的头部 是否有单选多选或者展开等特殊需求 -->\r\n    <template slot=\"header\"\r\n              slot-scope=\"scope\">\r\n      <ins-render v-if=\"column.renderHeader\"\r\n                  :scope=\"scope\"\r\n                  :render=\"column.renderHeader\" />\r\n      <span v-else>{{ scope.column.label }}</span>\r\n    </template>\r\n\r\n    <template slot-scope=\"scope\">\r\n      <component v-if=\"column.component\"\r\n                 v-bind=\"getCptBind(scope, column)\"\r\n                 v-on=\"column.listeners\"\r\n                 :is=\"column.component\" />\r\n\r\n      <!-- 嵌套表格 -->\r\n      <template v-else-if=\"column.children\">\r\n        <ins-column v-for=\"col in column.children\"\r\n                    :key=\"col.prop\"\r\n                    :column=\"col\" />\r\n      </template>\r\n\r\n      <ins-render v-else\r\n                  :scope=\"scope\"\r\n                  :render=\"column.render\" />\r\n    </template>\r\n  </el-table-column>\r\n</template>\r\n\r\n<script>\r\nimport InsRender from \"./render\";\r\nimport CellForced from \"./forced\";\r\nexport default {\r\n  name: \"InsColumn\",\r\n  props: {\r\n    column: {\r\n      type: Object,\r\n      default: () => {},\r\n    },\r\n  },\r\n  components: {\r\n    InsRender,\r\n  },\r\n  watch: {\r\n    column: {\r\n      handler: \"renderColumn\",\r\n      immediate: true,\r\n    },\r\n  },\r\n  methods: {\r\n    renderColumn() {\r\n      const { column } = this;\r\n      // 多选：selection / 索引：index / 展开的按钮：expand\r\n      if (column.type) {\r\n        column.renderHeader = CellForced[column.type].renderHeader;\r\n        column.render = column.render || CellForced[column.type].renderCell;\r\n      }\r\n      // 格式化内容\r\n      if (column.formatter) {\r\n        column.render = (h, scope) => {\r\n          return (\r\n            <span>\r\n              {scope.column.formatter(\r\n                scope.row,\r\n                scope.column,\r\n                scope.row[scope.column.property],\r\n                scope.$index\r\n              )}\r\n            </span>\r\n          );\r\n        };\r\n      }\r\n      // 渲染成text\r\n      if (!column.render) {\r\n        column.render = (h, scope) => {\r\n          return <span>{scope.row[scope.column.property]}</span>;\r\n        };\r\n      }\r\n      return column;\r\n    },\r\n    getColBind(col) {\r\n      const bind = Object.assign({}, this.$attrs, col);\r\n      delete bind.component;\r\n      delete bind.listeners;\r\n      delete bind.propsHandler;\r\n      return bind;\r\n    },\r\n    getCptBind({ row, column }, col) {\r\n      const props = { row, col, column };\r\n      const handler = col.propsHandler;\r\n      return (handler && handler(props)) || props;\r\n    },\r\n  },\r\n};\r\n</script>"],"sourceRoot":"src/components/InsTable"}]}