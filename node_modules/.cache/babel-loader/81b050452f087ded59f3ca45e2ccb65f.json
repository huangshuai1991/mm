{"remainingRequest":"F:\\emanager\\node_modules\\babel-loader\\lib\\index.js!F:\\emanager\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\emanager\\src\\plugins\\axios.js","dependencies":[{"path":"F:\\emanager\\src\\plugins\\axios.js","mtime":1604888126528},{"path":"F:\\emanager\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\emanager\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\emanager\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICJGOi9lbWFuYWdlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCBfTWVzc2FnZTIgZnJvbSAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvbWVzc2FnZS5jc3MiOwppbXBvcnQgImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL2Jhc2UuY3NzIjsKaW1wb3J0IF9NZXNzYWdlIGZyb20gImVsZW1lbnQtdWkvbGliL21lc3NhZ2UiOwppbXBvcnQgX0xvYWRpbmcyIGZyb20gImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL2xvYWRpbmcuY3NzIjsKaW1wb3J0ICJlbGVtZW50LXVpL2xpYi90aGVtZS1jaGFsay9iYXNlLmNzcyI7CmltcG9ydCBfTG9hZGluZyBmcm9tICJlbGVtZW50LXVpL2xpYi9sb2FkaW5nIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IGkxOG4gZnJvbSAnLi4vdXRpbHMvaTE4bic7CmltcG9ydCByb3V0ZXIgZnJvbSAnLi4vcm91dGVyJzsKaW1wb3J0IHsgZ2V0VG9rZW4gfSBmcm9tICcuLi91dGlscy9hdXRoJzsgLy8gRnVsbCBjb25maWc6ICBodHRwczovL2dpdGh1Yi5jb20vYXhpb3MvYXhpb3MjcmVxdWVzdC1jb25maWcKLy8gYXhpb3MuZGVmYXVsdHMuYmFzZVVSTCA9IHByb2Nlc3MuZW52LmJhc2VVUkwgfHwgcHJvY2Vzcy5lbnYuYXBpVXJsIHx8ICcnOwovLyBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddID0gQVVUSF9UT0tFTjsKCmF4aW9zLmRlZmF1bHRzLmhlYWRlcnMucG9zdFsnQ29udGVudC1UeXBlJ10gPSAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJzsKdmFyIGxvYWRpbmc7IC8v5byA5aeL5Yqg6L295Yqo55S7CgpmdW5jdGlvbiBzdGFydExvYWRpbmcoKSB7CiAgbG9hZGluZyA9IF9Mb2FkaW5nLnNlcnZpY2UoewogICAgbG9jazogdHJ1ZSwKICAgIC8v5piv5ZCm6ZSB5a6aCiAgICB0ZXh0OiAiIi5jb25jYXQoaTE4bi50YygnbG9hZGluZycpLCAiLi4uIiksCiAgICAvL+WKoOi9veS4remcgOimgeaYvuekuueahOaWh+WtlwogICAgYmFja2dyb3VuZDogJ3JnYmEoMCwwLDAsLjcpJyAvL+iDjOaZr+minOiJsgoKICB9KTsKfSAvL+e7k+adn+WKoOi9veWKqOeUuwoKCmZ1bmN0aW9uIGVuZExvYWRpbmcoKSB7CiAgbG9hZGluZy5jbG9zZSgpOwp9IC8v6ZyA6KaB5Yqg6L2955qE5qyh5pWwCgoKdmFyIG5lZWRMb2FkaW5nUmVxdWVzdENvdW50ID0gMDsKCmZ1bmN0aW9uIHNob3dGdWxsU2NyZWVuTG9hZGluZygpIHsKICBpZiAobmVlZExvYWRpbmdSZXF1ZXN0Q291bnQgPT09IDApIHsKICAgIHN0YXJ0TG9hZGluZygpOwogIH0KCiAgbmVlZExvYWRpbmdSZXF1ZXN0Q291bnQrKzsKfQoKZnVuY3Rpb24gdHJ5SGlkZUZ1bGxTY3JlZW5Mb2FkaW5nKCkgewogIGlmIChuZWVkTG9hZGluZ1JlcXVlc3RDb3VudCA8PSAwKSByZXR1cm47CiAgbmVlZExvYWRpbmdSZXF1ZXN0Q291bnQtLTsKCiAgaWYgKG5lZWRMb2FkaW5nUmVxdWVzdENvdW50ID09PSAwKSB7CiAgICBlbmRMb2FkaW5nKCk7CiAgfQp9Cgp2YXIgY29uZmlnID0gewogIGJhc2VVUkw6IHByb2Nlc3MuZW52LmJhc2VVUkwgfHwgcHJvY2Vzcy5lbnYuYXBpVXJsIHx8ICIiLAogIHRpbWVvdXQ6IDYwICogMTAwMCwKICAvLyBUaW1lb3V0CiAgd2l0aENyZWRlbnRpYWxzOiB0cnVlIC8vIENoZWNrIGNyb3NzLXNpdGUgQWNjZXNzLUNvbnRyb2wKCn07Cgp2YXIgX2F4aW9zID0gYXhpb3MuY3JlYXRlKGNvbmZpZyk7IC8vIOa3u+WKoOivt+axguaLpuaIquWZqAoKCl9heGlvcy5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogIC8vIOWcqOWPkemAgeivt+axguS5i+WJjeWBmuS6m+S7gOS5iAogIHNob3dGdWxsU2NyZWVuTG9hZGluZygpOyAvLyDnu5/kuIDmt7vliqB0b2tlbgoKICB2YXIgdG9rZW4gPSBnZXRUb2tlbigpOwoKICBpZiAodG9rZW4pIHsKICAgIGNvbmZpZy5oZWFkZXJzWyd0b2tlbiddID0gdG9rZW47CiAgfQoKICByZXR1cm4gY29uZmlnOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAvLyDlr7nor7fmsYLplJnor6/lgZrkupvku4DkuYgKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsgLy8g5re75Yqg5ZON5bqU5oum5oiq5ZmoCgoKX2F4aW9zLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgLy8g5a+55ZON5bqU5pWw5o2u5YGa54K55LuA5LmICiAgdHJ5SGlkZUZ1bGxTY3JlZW5Mb2FkaW5nKCk7CiAgdmFyIHJlcyA9IHJlc3BvbnNlLmRhdGE7CgogIGlmIChyZXMuc3VjY2VzcykgewogICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXMpOwogIH0gZWxzZSB7CiAgICBpZiAocmVzLmNvZGUgPT09IDE0MDEpIHsKICAgICAgX01lc3NhZ2UoewogICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICBkdXJhdGlvbjogNCAqIDEwMDAsCiAgICAgICAgbWVzc2FnZTogcmVzLm1lc3NhZ2UgfHwgaTE4bi50YygnZXJyb3ItbWVzc2FnZS5sb2dpbi1leHBpcmUnKSwKICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgIH0pOwoKICAgICAgcm91dGVyLnJlcGxhY2UoewogICAgICAgIHBhdGg6ICcvJwogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIF9NZXNzYWdlKHsKICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgZHVyYXRpb246IDQgKiAxMDAwLAogICAgICAgIG1lc3NhZ2U6IHJlcy5tZXNzYWdlIHx8IGkxOG4udGMoJ2Vycm9yLW1lc3NhZ2UubmV0d29yay1hbm9tYWx5JyksCiAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICB9KTsKICAgIH0KCiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlcyk7CiAgfQp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAvLyDlr7nlk43lupTplJnor6/lgZrngrnku4DkuYgKICB0cnlIaWRlRnVsbFNjcmVlbkxvYWRpbmcoKTsKCiAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICBzd2l0Y2ggKGVycm9yLnJlc3BvbnNlLnN0YXR1cykgewogICAgICBjYXNlIDQwNDoKICAgICAgICBfTWVzc2FnZSh7CiAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICBkdXJhdGlvbjogNCAqIDEwMDAsCiAgICAgICAgICBtZXNzYWdlOiBpMThuLnRjKCdlcnJvci1tZXNzYWdlLjQwNCcpLAogICAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICAgIH0pOwoKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNTAwOgogICAgICAgIF9NZXNzYWdlKHsKICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgIGR1cmF0aW9uOiA0ICogMTAwMCwKICAgICAgICAgIG1lc3NhZ2U6IGkxOG4udGMoJ2Vycm9yLW1lc3NhZ2UuNTAwJyksCiAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgfSk7CgogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA1MDM6CiAgICAgICAgX01lc3NhZ2UoewogICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgZHVyYXRpb246IDQgKiAxMDAwLAogICAgICAgICAgbWVzc2FnZTogaTE4bi50YygnZXJyb3ItbWVzc2FnZS41MDMnKSwKICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICB9KTsKCiAgICAgICAgYnJlYWs7CgogICAgICBkZWZhdWx0OgogICAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7IC8vIOWkhOeQhmdldOivt+axggoKCnZhciBnZXQgPSBmdW5jdGlvbiBnZXQodXJsLCBwYXJhbXMpIHsKICB2YXIgY29uZmlnID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTsKICByZXR1cm4gX2F4aW9zLmdldCh1cmwsIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgY29uZmlnKSwge30sIHsKICAgIHBhcmFtczogcGFyYW1zCiAgfSkpOwp9OyAvLyDlpITnkIZkZWxldGXor7fmsYLvvIzkuLrkuobpmLLmraLlkozlhbPplK7or41kZWxldGXlhrLnqoHvvIzmlrnms5XlkI3lrprkuYnkuLpkZWxldGVzCgoKdmFyIGRlbGV0ZXMgPSBmdW5jdGlvbiBkZWxldGVzKHVybCwgcGFyYW1zKSB7CiAgdmFyIGNvbmZpZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307CiAgcmV0dXJuIF9heGlvc1siZGVsZXRlIl0odXJsLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGNvbmZpZyksIHt9LCB7CiAgICBwYXJhbXM6IHBhcmFtcwogIH0pKTsKfTsgLy8g5aSE55CGcG9zdOivt+axggoKCnZhciBwb3N0ID0gZnVuY3Rpb24gcG9zdCh1cmwsIHBhcmFtcykgewogIHZhciBjb25maWcgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9OwogIHJldHVybiBfYXhpb3MucG9zdCh1cmwsIHBhcmFtcywgY29uZmlnKTsKfTsgLy8g5aSE55CGcHV06K+35rGCCgoKdmFyIHB1dCA9IGZ1bmN0aW9uIHB1dCh1cmwsIHBhcmFtcykgewogIHZhciBjb25maWcgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9OwogIHJldHVybiBfYXhpb3MucHV0KHVybCwgcGFyYW1zLCBjb25maWcpOwp9OwoKZXhwb3J0IGRlZmF1bHQgewogIGdldDogZ2V0LAogIGRlbGV0ZXM6IGRlbGV0ZXMsCiAgcG9zdDogcG9zdCwKICBwdXQ6IHB1dAp9Ow=="},{"version":3,"sources":["F:/emanager/src/plugins/axios.js"],"names":["axios","i18n","router","getToken","defaults","headers","post","loading","startLoading","service","lock","text","tc","background","endLoading","close","needLoadingRequestCount","showFullScreenLoading","tryHideFullScreenLoading","config","baseURL","process","env","apiUrl","timeout","withCredentials","_axios","create","interceptors","request","use","token","error","Promise","reject","response","res","data","success","resolve","code","showClose","duration","message","type","replace","path","status","get","url","params","deletes","put"],"mappings":"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","sourcesContent":["\"use strict\";\n\nimport {\n  Message,\n  Loading\n} from 'element-ui'\nimport axios from \"axios\";\nimport i18n from '../utils/i18n'\nimport router from '../router';\nimport { getToken } from '../utils/auth';\n\n\n// Full config:  https://github.com/axios/axios#request-config\n// axios.defaults.baseURL = process.env.baseURL || process.env.apiUrl || '';\n// axios.defaults.headers.common['Authorization'] = AUTH_TOKEN;\naxios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';\n\nlet loading;\n//开始加载动画\nfunction startLoading () {\n  loading = Loading.service({\n    lock: true, //是否锁定\n    text: `${i18n.tc('loading')}...`, //加载中需要显示的文字\n    background: 'rgba(0,0,0,.7)', //背景颜色\n  });\n}\n//结束加载动画\nfunction endLoading () {\n  loading.close();\n}\n//需要加载的次数\nlet needLoadingRequestCount = 0\nfunction showFullScreenLoading () {\n  if (needLoadingRequestCount === 0) {\n    startLoading()\n  }\n  needLoadingRequestCount++\n}\nfunction tryHideFullScreenLoading () {\n  if (needLoadingRequestCount <= 0) return\n  needLoadingRequestCount--\n  if (needLoadingRequestCount === 0) {\n    endLoading()\n  }\n}\n\nlet config = {\n  baseURL: process.env.baseURL || process.env.apiUrl || \"\",\n  timeout: 60 * 1000, // Timeout\n  withCredentials: true, // Check cross-site Access-Control\n};\n\nconst _axios = axios.create(config);\n\n// 添加请求拦截器\n_axios.interceptors.request.use(\n  function (config) {\n    // 在发送请求之前做些什么\n    showFullScreenLoading()\n    // 统一添加token\n    let token = getToken();\n    if (token) {\n      config.headers['token'] = token\n    }\n    return config;\n  },\n  function (error) {\n    // 对请求错误做些什么\n    return Promise.reject(error);\n  }\n);\n\n// 添加响应拦截器\n_axios.interceptors.response.use(\n  function (response) {\n    // 对响应数据做点什么\n    tryHideFullScreenLoading()\n    const res = response.data;\n    if (res.success) {\n      return Promise.resolve(res);\n    } else {\n      if (res.code === 1401) {\n        Message({\n          showClose: true,\n          duration: 4 * 1000,\n          message: res.message || i18n.tc('error-message.login-expire'),\n          type: 'error'\n        })\n        router.replace({ path: '/' })\n      } else {\n        Message({\n          showClose: true,\n          duration: 4 * 1000,\n          message: res.message || i18n.tc('error-message.network-anomaly'),\n          type: 'error'\n        })\n      }\n      return Promise.resolve(res);\n    }\n  },\n  function (error) {\n    // 对响应错误做点什么\n    tryHideFullScreenLoading()\n    if (error.response) {\n      switch (error.response.status) {\n        case 404:\n          Message({\n            showClose: true,\n            duration: 4 * 1000,\n            message: i18n.tc('error-message.404'),\n            type: 'error'\n          })\n          break;\n        case 500:\n          Message({\n            showClose: true,\n            duration: 4 * 1000,\n            message: i18n.tc('error-message.500'),\n            type: 'error'\n          })\n          break;\n        case 503:\n          Message({\n            showClose: true,\n            duration: 4 * 1000,\n            message: i18n.tc('error-message.503'),\n            type: 'error'\n          })\n          break;\n        default:\n          break;\n      }\n    }\n    return Promise.reject(error);\n  }\n);\n\n// 处理get请求\nconst get = (url, params, config = {}) => _axios.get(url, { ...config, params })\n// 处理delete请求，为了防止和关键词delete冲突，方法名定义为deletes\nconst deletes = (url, params, config = {}) => _axios.delete(url, { ...config, params })\n// 处理post请求\nconst post = (url, params, config = {}) => _axios.post(url, params, config)\n// 处理put请求\nconst put = (url, params, config = {}) => _axios.put(url, params, config)\nexport default {\n  get,\n  deletes,\n  post,\n  put\n}"]}]}